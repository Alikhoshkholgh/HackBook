# Permission Delegation:
- ## Exploiting ACEs:
  **A significant amount of ACEs can be misconfigured, its better to use BloodHound for visualising this permissions**
  
  + **ForceChangePassword**: We have the ability to set the user's current password without knowing their current password.
  + **AddMembers**: We have the ability to add users (including our own account), groups or computers to the target group.
  + **GenericAll**: We have complete control over the object, including the ability to change the user's password, register an SPN or add an AD object to the target group.
  + **GenericWrite**: We can update any non-protected parameters of our target object. This could allow us to, for example, update the scriptPath parameter, which would cause a script to execute the next time the user logs on.
  + **WriteOwner**: We have the ability to update the owner of the target object. We could make ourselves the owner, allowing us to gain additional permissions over the object.
  + **WriteDACL**: We have the ability to write new ACEs to the target object's DACL. We could, for example, write an ACE that grants our account full control over the target object.
  + **AllExtendedRights**: We have the ability to perform any action associated with extended AD rights against the target object. This includes, for example, the ability to force change a user's password.
  
  ### ----------------->> a simple scenario:  
   **domain users** group -- has **Generic Write** on --> **IT support** group -- has **forceChangePassword** on --> **domain Admins** group
  
# Kerberos Delegation:
- ## Unconstrained
 **NO Idea**
- ## Constrained 
 **NO Idea**
- ## Resource-Based Constrained Delegation
 **NO Idea**

# Automated Relays: Print Spooler Service:
- **No Idea**

# Exploiting AD Users:
- **looking for user Credentials in files**
- **Keylogger** (system dont type anything)

# Exploiting GPOs:
 - if we have write access to GPOs, we can add ourself to admin's group

# Exploiting Certificates:
 - Finding Vulnerable Certificate Templates 
  ```ps1
  C:\>certutil -Template -v > templates.txt 
  ```  
 - A certificate template is deemed misconfigured if a combination of parameter values becomes poisonous, allowing the requester to perform privilege escalation. 
   - **Client Authentication** - The certificate can be used for Client Authentication.
   - **CT_FLAG_ENROLLEE_SUPPLIES_SUBJECT** - The certificate template allows us to specify the Subject Alternative Name (SAN).
   - **CTPRIVATEKEY_FLAG_EXPORTABLE_KEY** - The certificate will be exportable with the private key.
   - **Certificate Permissions** - We have the required permissions to use the certificate template.
    
    
 - **User Impersonation through a Certificate**:
   - Use the certificate to request a Kerberos ticket-granting ticket (TGT)
   - Load the Kerberos TGT into your hacking platform of choice

